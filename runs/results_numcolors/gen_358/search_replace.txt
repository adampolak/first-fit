<NAME>
add_additional_templates_and_long_range_connector
</NAME>

<DESCRIPTION>
We expand the KT spine backbone to use six rotating templates instead of four, enhancing cross-scale mixing. Additionally, we augment the canonical connectors with a long-range “cross4” connector that spans further across blocks, boosting FirstFit pressure without raising ω excessively.

</DESCRIPTION>

<DIFF>
<<<<<<< SEARCH
    # Deterministic rotate templates
    template_bank = [
        (2, 6, 10, 14),  # classic KT
        (1, 5, 9, 13),   # left-shifted
        (3, 7, 11, 15),  # right-shifted
        (4, 8, 12, 16),  # stretched-right
    ]
=======
    # Deterministic rotate templates (expanded to six for better spine mixing)
    template_bank = [
        (2, 6, 10, 14),  # classic KT
        (1, 5, 9, 13),   # left-shifted
        (3, 7, 11, 15),  # right-shifted
        (4, 8, 12, 16),  # stretched-right
        (2, 4, 8, 12),   # compressed-left
        (3, 5, 9, 13),   # gentle-left
    ]
>>>>>>> REPLACE
</DIFF>

<DIFF>
<<<<<<< SEARCH
def _svc_connectors(starts, delta):
    """Produce four canonical connectors given the start-pattern and block delta."""
    s0, s1, s2, s3 = starts
    return [
        ((s0 - 1) * delta, (s1 - 1) * delta),  # left cap
        ((s2 + 2) * delta, (s3 + 2) * delta),  # right cap
        ((s0 + 2) * delta, (s2 - 1) * delta),  # cross 1
        ((s1 + 2) * delta, (s3 - 1) * delta),  # cross 2
    ]
=======
def _svc_connectors(starts, delta):
    """Produce five canonical connectors (including long-range cross4) given the start-pattern and block delta."""
    s0, s1, s2, s3 = starts
    connectors = [
        ((s0 - 1) * delta, (s1 - 1) * delta),  # left cap
        ((s2 + 2) * delta, (s3 + 2) * delta),  # right cap
        ((s0 + 2) * delta, (s2 - 1) * delta),  # cross 1
        ((s1 + 2) * delta, (s3 - 1) * delta),  # cross 2
        ((s0 + 3) * delta, (s3 + 3) * delta),  # long-range cross4
    ]
    return connectors
>>>>>>> REPLACE
</DIFF>