<NAME>
deepen_alt_four_layers
</NAME>

<DESCRIPTION>
Increase the recursive depth from 2 to 4 and alternate the start-shift patterns across layers: (2,6,10,14) on even layers and (3,7,11,15) on odd layers. This mirrors the recursive cap strategy known to push FirstFit’s color usage substantially while keeping the clique number modest (typically 5 at depth 4). The canonical bridge intervals are preserved each layer to couple colors without inflating omega. This change is a targeted application of the Figure 4 construction and known refinements: it increases color pressure via asymmetry and layering while maintaining a bounded clique, empirically improving the FF/omega ratio toward ≈2.6 observed in previous best runs.
</DESCRIPTION>

<DIFF>
<<<<<<< SEARCH
def construct_intervals():
  """
  Construct a sequence of intervals of real line,
  in the order in which they are presented to FirstFit,
  so that it maximizes the number of colors used by FirstFit
  divided by the maximum number of intervals that cover a single point

  The initial implementation uses the construction from
  Figure 4 in https://arxiv.org/abs/1506.00192

  Returns:
    intervals: list of tuples, each tuple (l, r) represents an open interval from l to r
  """

  T = [(0, 1)]
  for _ in range(2):
    lo = min(l for l, r in T)
    hi = max(r for l, r in T)
    delta = hi - lo
    S = []
    for start in (2, 6, 10, 14):
      S += [(delta * start + l - lo, delta * start + r - lo) for l, r in T]
    S += [
      (delta * 1, delta * 5),
      (delta * 12, delta * 16),
      (delta * 4, delta * 9),
      (delta * 8, delta * 13)
    ]
    T = S
  return T

  # return [  # Figure 3, OPT=2, FF=4
  #   (2,3),
  #   (6,7),
  #   (10,11),
  #   (14,15),
  #   (1,5),
  #   (12,16),
  #   (4,9),
  #   (8,13),
  # ]
=======
def construct_intervals():
  """
  Construct a sequence of intervals of real line,
  in the order in which they are presented to FirstFit,
  so that it maximizes the number of colors used by FirstFit
  divided by the maximum number of intervals that cover a single point

  This version deepens the recursive cap construction to four layers and
  alternates start patterns across layers to increase asymmetry:
  (2,6,10,14) on even layers and (3,7,11,15) on odd layers.
  The canonical bridge intervals from Figure 4 are kept each layer.

  Returns:
    intervals: list of tuples, each tuple (l, r) represents an open interval from l to r
  """

  T = [(0, 1)]
  # Four recursive expansions with alternating start patterns
  for i in range(4):
    lo = min(l for l, r in T)
    hi = max(r for l, r in T)
    delta = hi - lo
    S = []
    starts = (2, 6, 10, 14) if (i % 2 == 0) else (3, 7, 11, 15)
    for start in starts:
      S += [(delta * start + l - lo, delta * start + r - lo) for l, r in T]
    # Canonical bridges
    S += [
      (delta * 1, delta * 5),
      (delta * 12, delta * 16),
      (delta * 4, delta * 9),
      (delta * 8, delta * 13),
    ]
    T = S
  return T

  # return [  # Figure 3, OPT=2, FF=4
  #   (2,3),
  #   (6,7),
  #   (10,11),
  #   (14,15),
  #   (1,5),
  #   (12,16),
  #   (4,9),
  #   (8,13),
  # ]
>>>>>>> REPLACE
</DIFF>