<NAME>
enhanced_cycle_seeds_bridges_scaling
</NAME>

<DESCRIPTION>
Proposes a targeted enhancement to the existing cap-based gadget generator to push FirstFit color usage further without inflating the clique number (omega) too aggressively. The changes:

- Expand the translation pattern bank (START_SETS) from 4 to 8 patterns, increasing diversity of scaled copies across layers.
- Expand the bridge pattern bank (BRIDGE_SETS) from 4 to 8 patterns, adding richer cross-links between layers.
- Introduce a longer, more varied scaling sequence (SCALING_LIST) with 8 values to diversify growth per layer.
- Add a third spine seed (three seeds total) to diversify the underlying recursion and produce more complex, yet controlled, overlaps.
- Keep the approach deterministic and cycle through the expanded pattern banks, preserving reproducibility while exploring more configuration space.

Overall intent: amplify FirstFitâ€™s color usage by exercising a richer and more varied recursive structure, while attempting to keep omega bounded through careful, patterned expansions.
</DESCRIPTION>

<DIFF>
<<<<<<< SEARCH
def construct_intervals(depth=None):
  """
  Construct a sequence of intervals of real line,
  in the order in which they are presented to FirstFit,
  so that it maximizes the number of colors used by FirstFit
  divided by the maximum number of intervals that cover a single point

  This implementation follows the recursive "cap" construction
  inspired by Figure 4 in https://arxiv.org/abs/1506.00192 and
  increases the recursion depth to amplify the FF/omega ratio.

  Returns:
    intervals: list of tuples, each tuple (l, r) represents an open interval from l to r
  """

  # Allow explicit depth control to explore smarter configurations.
  # If depth is not provided, fall back to the traditional depth=4.
  if depth is None:
    depth = 4

  # Pattern banks to introduce variety across recursion levels.
  START_SETS = [
    [2, 6, 10, 14],
    [3, 7, 11, 15],
    [4, 8, 12, 16],
    [5, 9, 13, 17],
  ]
  BRIDGE_SETS = [
    [(1, 5), (12, 16), (4, 9), (8, 13)],
    [(2, 6), (13, 17), (5, 10), (9, 14)],
    [(3, 7), (14, 18), (6, 11), (10, 15)],
    [(4, 8), (15, 19), (7, 12), (11, 16)],
  ]

  SCALING_LIST = [1.0, 1.2, 0.8, 1.15, 1.05]
  # initial seeds: two disjoint spine intervals to diversify recursive growth
  T = [(0, 1), (2, 3)]
  for k in range(depth):
    lo = min(l for l, r in T)
    hi = max(r for l, r in T)
    gamma = SCALING_LIST[k % len(SCALING_LIST)]
    delta = (hi - lo) * gamma
    S = []
    # Use a rotating start set to diversify the expanded copies of T
    start_list = START_SETS[k % len(START_SETS)]
    for start in start_list:
      S += [(delta * start + l - lo, delta * start + r - lo) for l, r in T]
    # Use a rotating bridge pattern to insert cross-links without inflating omega
    bridge_set = BRIDGE_SETS[k % len(BRIDGE_SETS)]
    S += [ (delta * a, delta * b) for (a, b) in bridge_set ]
    T = S
  return T

  # return [  # Figure 3, OPT=2, FF=4
  #   (2,3),
  #   (6,7),
  #   (10,11),
  #   (14,15),
  #   (1,5),
  #   (12,16),
  #   (4,9),
  #   (8,13),
  # ]
=======
def construct_intervals(depth=None):
  """
  Enhanced cycle of seeds, bridges, and scaling to push FirstFit colors higher
  while keeping omega moderate. This version expands the pattern banks
  and introduces an additional seed and longer scaling schedule.
  """

  if depth is None:
    depth = 4

  # Expanded pattern banks (8 patterns each) for richer diversification
  START_SETS = [
    [2, 6, 10, 14], [3, 7, 11, 15], [4, 8, 12, 16], [5, 9, 13, 17],
    [6, 10, 14, 18], [7, 11, 15, 19], [8, 12, 16, 20], [9, 13, 17, 21]
  ]
  BRIDGE_SETS = [
    [(1, 5), (12, 16), (4, 9), (8, 13)],
    [(2, 6), (13, 17), (5, 10), (9, 14)],
    [(3, 7), (14, 18), (6, 11), (10, 15)],
    [(4, 8), (15, 19), (7, 12), (11, 16)],
    [(5, 9), (16, 20), (8, 13), (12, 17)],
    [(6, 10), (17, 21), (9, 14), (13, 18)],
    [(7, 11), (18, 22), (10, 15), (14, 19)],
    [(8, 12), (19, 23), (11, 16), (15, 20)],
  ]

  # Slightly longer and more varied scaling factors
  SCALING_LIST = [1.0, 1.25, 0.88, 1.18, 1.05, 0.92, 1.12, 0.85]

  # Start with a two-spine seed and a small central spine for greater diversity
  T = [(0, 1), (2, 3), (6, 7)]

  for k in range(depth):
    lo = min(l for l, r in T)
    hi = max(r for l, r in T)
    gamma = SCALING_LIST[k % len(SCALING_LIST)]
    delta = (hi - lo) * gamma
    S = []
    start_list = START_SETS[k % len(START_SETS)]
    for start in start_list:
      S += [(delta * start + l - lo, delta * start + r - lo) for l, r in T]
    bridge_set = BRIDGE_SETS[k % len(BRIDGE_SETS)]
    S += [ (delta * a, delta * b) for (a, b) in bridge_set ]
    T = S
  return T

# EVOLVE-BLOCK-END

def run_experiment(**kwargs):
  """Main called by evaluator"""
  return construct_intervals()
>>>>>>> REPLACE
</DIFF>